% templates/latex/preamble.tex
% Step2 fix: de-duplicate packages, move listings settings to \lstset,
% and keep pgfkeys input keys minimal (type/sep/linenumber only).

\usepackage{tabularx}
\usepackage{array}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{xparse}
\usepackage[inline]{enumitem}
\usepackage{etoolbox} % \ifstrequal
%\usepackage{paralist}
\usepackage{xstring}
%\usepackage[most]{tcolorbox}
\usepackage{tikz}
\usetikzlibrary{calc}
% pgfkeys (used by macros.tex)
\usepackage{pgf} % provides pgfkeys

% listings (ALL style knobs go here, not via pgfkeys)
\usepackage{listings}
\lstset{
  basicstyle=\ttfamily\small,
  columns=fullflexible,
  keepspaces=true,
  showstringspaces=false,
  frame=single,
  numbers=none,
  numbersep=8pt
}

% ---- Japanese (LuaLaTeX) ----
\usepackage{luatexja}
\usepackage{luatexja-fontspec}

% 日本語：本文もサンセリフもヒラギノ角ゴ
\setmainjfont{Hiragino Sans}
\setsansjfont{Hiragino Sans}

% 欧文：本文/サンセリフも揃えたい場合（任意）
\setmainfont{Helvetica}
\setsansfont{Helvetica}

\usepackage{luatexja-ruby}

% 画像パス（ここはプレースホルダにするのが安全）
@@GRAPHICSPATH@@

\usepackage[
  left=27.68mm,
  right=27.68mm,
  top=30mm,
  bottom=30mm
]{geometry}

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}

% タイトル（デフォルト）
\providecommand{\ExamTitle}{}

\fancyfoot[L]{\footnotesize \ExamTitle}
\fancyfoot[C]{\footnotesize \thepage}
% \fancyfoot[R]{\footnotesize 版: A}

\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\setlength{\footskip}{40pt}
